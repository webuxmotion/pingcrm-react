import{X as p,G as _,j as e,S as j,x as v,A as l}from"./app-B0E2HKya.js";import{M as f}from"./MainLayout-DzRx1gdO.js";import{T as y,D as b}from"./TrashedMessage-DgAemzx_.js";import{L as C}from"./LoadingButton-CMfpK445.js";import{F as s,T as i}from"./FieldGroup-ByT6-SUL.js";import{S as d}from"./SelectInput-BParOk81.js";import"./index-EEeLZrY6.js";import"./trash-2-DF02vzBG.js";const z=()=>{const{contact:t,organizations:m}=p().props,{data:n,setData:o,errors:r,put:c,processing:u}=_({first_name:t.first_name||"",last_name:t.last_name||"",organization_id:t.organization_id||"",email:t.email||"",phone:t.phone||"",address:t.address||"",city:t.city||"",region:t.region||"",country:t.country||"",postal_code:t.postal_code||""});function g(a){a.preventDefault(),c(route("contacts.update",t.id))}function h(){confirm("Are you sure you want to delete this contact?")&&l.delete(route("contacts.destroy",t.id))}function x(){confirm("Are you sure you want to restore this contact?")&&l.put(route("contacts.restore",t.id))}return e.jsxs("div",{children:[e.jsx(j,{title:`${n.first_name} ${n.last_name}`}),e.jsxs("h1",{className:"mb-8 text-3xl font-bold",children:[e.jsx(v,{href:route("contacts"),className:"text-indigo-600 hover:text-indigo-700",children:"Contacts"}),e.jsx("span",{className:"mx-2 font-medium text-indigo-600",children:"/"}),n.first_name," ",n.last_name]}),t.deleted_at&&e.jsx(y,{message:"This contact has been deleted.",onRestore:x}),e.jsx("div",{className:"max-w-3xl overflow-hidden bg-white rounded shadow",children:e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"grid gap-8 p-8 lg:grid-cols-2",children:[e.jsx(s,{label:"First Name",name:"first_name",error:r.first_name,children:e.jsx(i,{name:"first_name",error:r.first_name,value:n.first_name,onChange:a=>o("first_name",a.target.value)})}),e.jsx(s,{label:"Last Name",name:"last_name",error:r.last_name,children:e.jsx(i,{name:"last_name",error:r.last_name,value:n.last_name,onChange:a=>o("last_name",a.target.value)})}),e.jsx(s,{label:"Organization",name:"organization_id",error:r.organization_id,children:e.jsx(d,{name:"organization_id",error:r.organization_id,value:n.organization_id,onChange:a=>o("organization_id",a.target.value),options:[{value:"",label:""},...m.map(a=>({value:String(a.id),label:a.name}))]})}),e.jsx(s,{label:"Email",name:"email",error:r.email,children:e.jsx(i,{name:"email",type:"email",error:r.email,value:n.email,onChange:a=>o("email",a.target.value)})}),e.jsx(s,{label:"Phone",name:"phone",error:r.phone,children:e.jsx(i,{name:"phone",error:r.phone,value:n.phone,onChange:a=>o("phone",a.target.value)})}),e.jsx(s,{label:"Address",name:"address",error:r.address,children:e.jsx(i,{name:"address",error:r.address,value:n.address,onChange:a=>o("address",a.target.value)})}),e.jsx(s,{label:"City",name:"city",error:r.city,children:e.jsx(i,{name:"city",error:r.city,value:n.city,onChange:a=>o("city",a.target.value)})}),e.jsx(s,{label:"Province/State",name:"region",error:r.region,children:e.jsx(i,{name:"region",error:r.region,value:n.region,onChange:a=>o("region",a.target.value)})}),e.jsx(s,{label:"Country",name:"country",error:r.country,children:e.jsx(d,{name:"country",error:r.country,value:n.country,onChange:a=>o("country",a.target.value),options:[{value:"",label:""},{value:"CA",label:"Canada"},{value:"US",label:"United States"}]})}),e.jsx(s,{label:"Postal Code",name:"postal_code",error:r.postal_code,children:e.jsx(i,{name:"postal_code",error:r.postal_code,value:n.postal_code,onChange:a=>o("postal_code",a.target.value)})})]}),e.jsxs("div",{className:"flex items-center px-8 py-4 bg-gray-100 border-t border-gray-200",children:[!t.deleted_at&&e.jsx(b,{onDelete:h,children:"Delete Contact"}),e.jsx(C,{loading:u,type:"submit",className:"ml-auto btn-indigo",children:"Update Contact"})]})]})})]})};z.layout=t=>e.jsx(f,{children:t});export{z as default};
